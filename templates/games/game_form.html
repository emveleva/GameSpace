{% extends 'base.html' %}

{% block content %}
<div class="container">

    <h1 class="title">
        {% if action == "edit" %}
            Edit Game
        {% elif action == "delete" %}
            Delete Game
        {% else %}
            Add Game
        {% endif %}
    </h1>

    <form method="post">
        {% csrf_token %}

        {% for field in form %}
            <div>
                {{ field.label_tag }}
                {{ field }}
            </div>
        {% endfor %}

        {% if action == "delete" %}
            <button
                type="submit"
                class="btn btn-danger"
                onclick="return confirm('Are you sure you want to delete this game? This action cannot be undone.');"
            >
                Confirm Delete
            </button>

        {% elif action == "edit" %}
            <button type="submit" class="btn btn-primary">
                Save Changes
            </button>

        {% else %}
            <button type="submit" class="btn btn-success">
                Add Game
            </button>
        {% endif %}

        <a href="{{ cancel_url }}" class="btn btn-secondary">
            Cancel
        </a>

    </form>

</div>
{% endblock %}